import{I as z,j as Y,l as y}from"./chunk-YQXGHQL7.js";import{Ab as u,Bb as $,Cb as P,Db as B,Lb as f,Mb as R,Oa as h,P as D,Pb as V,Qb as b,Rb as W,Ta as T,U as E,Z as I,_ as M,bb as N,cb as U,d as C,db as x,eb as i,fb as n,ga as g,hb as A,ib as F,kb as L,mb as p,nb as q,ob as v,pb as O,qb as j,xb as _,ya as l,yb as o,zb as k}from"./chunk-N5GTE3F3.js";var G=(()=>{let e=class e{constructor(){this._users=g([]),this.users=this._users.asReadonly(),this.activeUsers=f(()=>this.users().filter(t=>t.isActive))}getList(t){return C(this,null,function*(){console.log("UserProxyService.getList fetching..."),yield new Promise(a=>setTimeout(a,800));let r=Array.from({length:10}).map((a,d)=>({id:crypto.randomUUID(),userName:`user_${d+1}`,email:`user${d}@ventra.io`,name:`Demo User ${d}`,isActive:d%3!==0,creationTime:new Date().toISOString()}));this._users.set(r)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();var Z=["*"],H=(()=>{let e=class e{constructor(){this.type=b("primary"),this.label=b("Click me"),this.clicked=V(),this.classes=f(()=>{let t="px-4 py-2 rounded font-semibold transition-colors duration-200";switch(this.type()){case"primary":return`${t} bg-blue-600 text-white hover:bg-blue-700`;case"secondary":return`${t} bg-gray-600 text-white hover:bg-gray-700`;case"danger":return`${t} bg-red-600 text-white hover:bg-red-700`;default:return t}})}onClick(){this.clicked.emit()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h({type:e,selectors:[["app-button"]],inputs:{type:[1,"type"],label:[1,"label"]},outputs:{clicked:"clicked"},ngContentSelectors:Z,decls:3,vars:3,consts:[[3,"click"]],template:function(r,a){r&1&&(O(),A(0,"button",0),q("click",function(){return a.onClick()}),j(1),o(2),F()),r&2&&(_(a.classes()),l(2),u(" ",a.label()," "))},dependencies:[y],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0});let s=e;return s})();function ee(s,e){if(s&1){let m=L();i(0,"button",5),p("click",function(){I(m);let r=v();return M(r.clear())}),i(1,"span",6),o(2,"close"),n()()}}var J=(()=>{let e=class e{constructor(){this.placeholder=b("Search..."),this.query=W("")}onInput(t){let r=t.target.value;this.query.set(r)}clear(){this.query.set("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h({type:e,selectors:[["app-search-input"]],inputs:{placeholder:[1,"placeholder"],query:[1,"query"]},outputs:{query:"queryChange"},decls:6,vars:3,consts:[[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-icons","text-gray-400"],["type","text",1,"block","w-full","p-2","pl-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500","transition-all","duration-200",3,"input","placeholder","value"],["class","absolute inset-y-0 right-0 flex items-center pr-3",3,"click",4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3",3,"click"],[1,"material-icons","text-gray-400","hover:text-gray-600","cursor-pointer"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"div",1)(2,"span",2),o(3,"search"),n()(),i(4,"input",3),p("input",function(c){return a.onInput(c)}),n(),T(5,ee,3,0,"button",4),n()),r&2&&(l(4),x("placeholder",a.placeholder())("value",a.query()),l(),x("ngIf",a.query()))},dependencies:[y,Y,z],encapsulation:2});let s=e;return s})();var te=(s,e)=>e.id;function re(s,e){if(s&1&&(i(0,"tr",19)(1,"td",20)(2,"div",21),o(3),n(),o(4),n(),i(5,"td",22),o(6),n(),i(7,"td",22)(8,"span",23),o(9),n()(),i(10,"td",24)(11,"button",25)(12,"span",6),o(13,"edit"),n(),o(14," Edit "),n(),i(15,"button",26)(16,"span",6),o(17,"delete"),n(),o(18," Delete "),n()()()),s&2){let m=e.$implicit;l(3),u(" ",m.userName.substring(0,2)," "),l(),u(" ",m.userName," "),l(2),u(" ",m.email," "),l(2),_(m.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"),l(),u(" ",m.isActive?"Active":"Inactive"," ")}}function ie(s,e){if(s&1&&(i(0,"tr")(1,"td",27)(2,"div",28)(3,"span",29),o(4,"search_off"),n(),i(5,"p"),o(6),n()()()()),s&2){let m=v();l(6),u('No users found matching "',m.searchTerm(),'"')}}var K=(()=>{let e=class e{constructor(){this.userService=E(G),this.showActiveOnly=g(!1),this.searchTerm=g(""),this.sortField=g("name"),this.sortDirection=g("asc"),this.displayedUsers=f(()=>{let t=this.userService.users();this.showActiveOnly()&&(t=t.filter(c=>c.isActive));let r=this.searchTerm().toLowerCase();r&&(t=t.filter(c=>c.userName.toLowerCase().includes(r)||c.email.toLowerCase().includes(r)||c.name.toLowerCase().includes(r)));let a=this.sortField(),d=this.sortDirection()==="asc"?1:-1;return[...t].sort((c,w)=>{let Q=a==="name"?c.userName:c.email,X=a==="name"?w.userName:w.email;return Q.localeCompare(X)*d})}),R(()=>{console.log(`Filter changed: Actve=${this.showActiveOnly()}, Search="${this.searchTerm()}"`)})}ngOnInit(){this.refresh()}refresh(){this.userService.getList({maxResultCount:10,skipCount:0})}toggleActiveFilter(){this.showActiveOnly.update(t=>!t)}toggleSort(t){this.sortField()===t?this.sortDirection.update(r=>r==="asc"?"desc":"asc"):(this.sortField.set(t),this.sortDirection.set("asc"))}getSortIcon(t){return this.sortField()!==t?"unfold_more":this.sortDirection()==="asc"?"expand_less":"expand_more"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h({type:e,selectors:[["app-user-list"]],decls:39,vars:6,consts:[[1,"lx-page","w-full","animate-fade-in"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","mb-6","space-y-4","md:space-y-0"],[1,"text-2xl","font-bold","text-gray-800","dark:text-white"],[1,"flex","items-center","space-x-2","w-full","md:w-auto"],["placeholder","Search by name...",1,"w-full","md:w-64",3,"queryChange","query"],["type","primary","label","Refresh",1,"hidden","md:block",3,"click"],[1,"material-icons","text-sm","mr-1"],[1,"filters","mb-4","p-4","bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","flex","justify-between","items-center","transition-all","duration-300"],[1,"flex","items-center","space-x-2","text-gray-600","dark:text-gray-300","cursor-pointer"],["type","checkbox",1,"rounded","text-indigo-600","focus:ring-indigo-500","border-gray-300","dark:border-gray-600","dark:bg-gray-700","h-4","w-4",3,"change","checked"],[1,"text-sm","text-gray-500"],[1,"font-bold","text-indigo-600"],[1,"overflow-x-auto","shadow-md","rounded-lg","bg-white","dark:bg-gray-800","border","border-gray-100","dark:border-gray-700"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","border-b","dark:border-gray-700"],["scope","col",1,"px-6","py-3","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-600",3,"click"],[1,"material-icons","text-xs","align-middle","ml-1"],["scope","col",1,"px-6","py-3"],["scope","col",1,"px-6","py-3","text-right"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors","duration-150","relative","group"],[1,"px-6","py-4","font-medium","text-gray-900","dark:text-white","whitespace-nowrap","flex","items-center"],[1,"w-8","h-8","rounded-full","bg-indigo-100","text-indigo-600","flex","items-center","justify-center","mr-3","text-xs","font-bold","uppercase","ring-2","ring-transparent","group-hover:ring-indigo-200","transition-all"],[1,"px-6","py-4"],[1,"text-xs","font-semibold","px-2.5","py-0.5","rounded-full","border","border-transparent"],[1,"px-6","py-4","text-right","space-x-2","opacity-100","md:opacity-0","group-hover:opacity-100","transition-opacity"],[1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline","inline-flex","items-center"],[1,"font-medium","text-red-600","dark:text-red-500","hover:underline","inline-flex","items-center"],["colspan","4",1,"px-6","py-12","text-center","text-gray-400"],[1,"flex","flex-col","items-center","justify-center"],[1,"material-icons","text-4xl","mb-2","text-gray-300"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Identity Management"),n(),i(4,"div",3)(5,"app-search-input",4),B("queryChange",function(c){return P(a.searchTerm,c)||(a.searchTerm=c),c}),n(),i(6,"app-button",5),p("click",function(){return a.refresh()}),i(7,"span",6),o(8,"refresh"),n()()()(),i(9,"div",7)(10,"label",8)(11,"input",9),p("change",function(){return a.toggleActiveFilter()}),n(),i(12,"span"),o(13,"Show Active Only"),n()(),i(14,"div",10),o(15," Found "),i(16,"span",11),o(17),n(),o(18," users "),n()(),i(19,"div",12)(20,"table",13)(21,"thead",14)(22,"tr")(23,"th",15),p("click",function(){return a.toggleSort("name")}),o(24," User Name "),i(25,"span",16),o(26),n()(),i(27,"th",15),p("click",function(){return a.toggleSort("email")}),o(28," Email "),i(29,"span",16),o(30),n()(),i(31,"th",17),o(32,"Status"),n(),i(33,"th",18),o(34,"Actions"),n()()(),i(35,"tbody"),N(36,re,19,6,"tr",19,te,!1,ie,7,1,"tr"),n()()()()),r&2&&(l(5),$("query",a.searchTerm),l(6),x("checked",a.showActiveOnly()),l(6),k(a.displayedUsers().length),l(9),k(a.getSortIcon("name")),l(4),k(a.getSortIcon("email")),l(6),U(a.displayedUsers()))},dependencies:[y,H,J],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .4s ease-out}"],changeDetection:0});let s=e;return s})();var Ie=[{path:"",children:[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:K}]}];export{Ie as IDENTITY_ROUTES};
